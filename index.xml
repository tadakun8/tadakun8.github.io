<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ただくんぶろぐ</title>
        <link>https://tadakun8.github.io/</link>
        <description>Recent content on ただくんぶろぐ</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Sun, 13 Jun 2021 10:04:20 +0900</lastBuildDate><atom:link href="https://tadakun8.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>axiosの使い方</title>
        <link>https://tadakun8.github.io/post/usage-axios/</link>
        <pubDate>Sun, 13 Jun 2021 10:04:20 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/usage-axios/</guid>
        <description>&lt;h3 id=&#34;インストール方法&#34;&gt;インストール方法&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ npm install axios
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;get-post-put-deleteリクエスト&#34;&gt;GET, POST, PUT, DELETEリクエスト&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseGet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://example.com/api/sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responsePost&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://example.com/api/sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responsePut&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://example.com/api/sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseDelete&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://example.com/api/sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;axiosでの共通設定をしたいとき&#34;&gt;axiosでの共通設定をしたいとき&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// axiosを使う時の共通設定
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;AxiosRequestConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// axiosClient.get(&amp;#39;sample&amp;#39;)でhttp://example.com/api/sampleへのリクエストになるように設定
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;baseURL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://example.com/api/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// タイムアウト(ミリ秒)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// カスタムヘッダーも定義できる
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Authorization&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;sample-token&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// 共通設定をしたaxiosインスタンスの生成
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;AxiosInstance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;共通設定できる値は上記以外にもまだまだあるので、詳しくは&lt;a class=&#34;link&#34; href=&#34;https://github.com/axios/axios#request-config&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;axiosの公式HP&lt;/a&gt;に記載されてます&lt;/p&gt;
&lt;p&gt;※ 以降はaxiosClientを使う前提です&lt;/p&gt;
&lt;h3 id=&#34;共通設定で指定している値をこのapiでは適用したくない場合&#34;&gt;共通設定で指定している値をこのAPIでは適用したくない場合&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2000&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ユースケースとしては、以下が当てはまりそうです&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;あるAPIのリクエストではタイムアウトの値を伸ばしたい&lt;/li&gt;
&lt;li&gt;あるAPIだけ、カスタムヘッダーを定義したい&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;クエリパラメータ付きリクエスト&#34;&gt;クエリパラメータ付きリクエスト&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// http://eample.com/api/sample?id=3となる
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseQueryParam&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;画像をアップロード&#34;&gt;画像をアップロード&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;formData&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FormData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;formData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fineName&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;実際のファイルオブジェクト&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseFormData&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;formData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;content-type&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;multipart/form-data&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;エラーハンドリング&#34;&gt;エラーハンドリング&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseError&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sample&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;responseError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;status&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;例外処理を記載する&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;モックのレスポンスを返したい&#34;&gt;モックのレスポンスを返したい&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mockResponseData&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;平成狸合戦ぽんぽこ&amp;#39;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mockAdapter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Promise&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;resolve&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;reject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;resolve&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;　&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mockResponseData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;responseMock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;adapter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mockAdapter&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;(バックエンドが実装されていないが、フロントエンドの動作確認をしたいときに使えそう)&lt;/p&gt;
&lt;h3 id=&#34;処理を差し込みたい&#34;&gt;処理を差し込みたい&lt;/h3&gt;
&lt;p&gt;以下は、最終的にどういうリクエストを送ったのか、どういうレスポンスが返ってきたのかをログを出力するような差し込み処理です&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;interceptors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;stringify&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;axiosClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;interceptors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;stringify&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;response&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;axios&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;interceptors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;interceptのuseはrequest、responseで複数書ける&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;実行される順番は最初に定義したものからinterceptされる&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;目的ごとにuseを分けた方がよいだろう&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;config&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;おわりに&#34;&gt;おわりに&lt;/h3&gt;
&lt;p&gt;先人たちがまとめてくださった記事をもとに、axiosを使うときに困らないだろう程度にはまとめることができました。&lt;/p&gt;
&lt;p&gt;debugのたびに&lt;code&gt;console.log(JSON.stringfy(response))&lt;/code&gt;などで値を見てましたが、interceptorsにログ出力を設定してあるaxiosインスタンスを使えば、その必要がなくなりそうです。&lt;/p&gt;
&lt;h3 id=&#34;参考&#34;&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://zenn.dev/terrierscript/articles/2017-02-02-axios&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;axios 知見集(2017)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://tositeru.github.io/Notebook/js/axios.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;axios&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.yoheim.net/blog.php?q=20170801&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;[フロントエンド] axiosライブラリを使って、柔軟にHTTP通信を行う&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.softel.co.jp/blogs/tech/archives/6611&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;【JavaScript】axiosのエラーを共通の処理で拾う&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://zenn.dev/aya_ryo/articles/d89d7be695d063&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;【JavaScript】axiosのエラーを共通の処理で拾う&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.sukerou.com/2019/05/axios.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;axiosの使い方まとめ (GET/POST/例外処理)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://r17n.page/2020/02/04/nodejs-axios-file-upload-api/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;axios で添付ファイルありのリクエスト(multipart/form-data の POST)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://reiji1020.hatenablog.com/entry/2018/12/31/113202&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;【React】axiosを使用してmultipart/form-data形式の通信をする&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>コミットメッセージを変更する</title>
        <link>https://tadakun8.github.io/post/git-change-commit-message/</link>
        <pubDate>Sun, 13 Jun 2021 09:16:53 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/git-change-commit-message/</guid>
        <description>&lt;img src="https://tadakun8.github.io/post/git-change-commit-message/git.png" alt="Featured image of post コミットメッセージを変更する" /&gt;&lt;h2 id=&#34;はじめに&#34;&gt;はじめに&lt;/h2&gt;
&lt;p&gt;開発が進んでいくと、コミットメッセージを変更したいなぁということがあると思います。また、「このコミットメッセージわかりにくい」と言われることもあるでしょう。特に、2つ以上前のコミットメッセージを変える方法はいつも調べているので、記事にしました。&lt;/p&gt;
&lt;h2 id=&#34;直近のコミットメッセージを変更する場合&#34;&gt;直近のコミットメッセージを変更する場合&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;git commit --amend&lt;/code&gt;で修正できます&lt;/p&gt;
&lt;h3 id=&#34;想定するケース&#34;&gt;想定するケース&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
c7c87bd commit 4 ← 番号がずれてしまった
8b72c5c commit 2
13ba7d2 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;直近のコミットメッセージの番号がずれていますので、commit 4 を commit 3に修正しましょう&lt;/p&gt;
&lt;h3 id=&#34;修正&#34;&gt;修正&lt;/h3&gt;
&lt;p&gt;直近のコミットメッセージを変更する場合は以下のコマンドですぐ変更できます&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git commit --amend
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;そうするとvimが起動するので、commit 4 を commit 3に変更しましょう。&lt;/p&gt;
&lt;p&gt;変更後に確認すると、意図した結果になってます&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
af9e74a commit 3
8b72c5c commit 2
13ba7d2 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;2つ以上前のコミットメッセージを変更する場合&#34;&gt;2つ以上前のコミットメッセージを変更する場合&lt;/h2&gt;
&lt;p&gt;いよいよ本題です。こちらは&lt;code&gt;git rebase&lt;/code&gt;を使って修正します。&lt;/p&gt;
&lt;h3 id=&#34;想定するケース-1&#34;&gt;想定するケース&lt;/h3&gt;
&lt;p&gt;コミットの履歴を以下だとしましょう&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
0638aca commit 5
cb1a280 commit 4
2572e35 commit 3
b1ce602 commit 22
13ba7d2 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;commit 2 のつもりが commit 22 となっています&lt;/p&gt;
&lt;h3 id=&#34;修正-1&#34;&gt;修正&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# commit 1のコミットIDを引数にし、commit 22までをrebaseの範囲とする&lt;/span&gt;
$ git reabase -i 13ba7d2 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;vimが立ち上がるので、commit 22の pick を &lt;strong&gt;r(またはreword)&lt;/strong&gt; に変更します&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span class=&#34;gd&#34;&gt;- pick b1ce602 commit 22
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;+ r b1ce602 commit 22
&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;&lt;/span&gt;pick 2572e35 commit 3
pick cb1a280 commit 4
pick 0638aca commit 5

# Rebase 13ba7d2..0638aca onto 0638aca (4 commands)
#
# Commands:
# p, pick &amp;lt;commit&amp;gt; = use commit
# r, reword &amp;lt;commit&amp;gt; = use commit, but edit the commit message
# e, edit &amp;lt;commit&amp;gt; = use commit, but stop for amending
# s, squash &amp;lt;commit&amp;gt; = use commit, but meld into previous commit
# f, fixup &amp;lt;commit&amp;gt; = like &amp;#34;squash&amp;#34;, but discard this commit&amp;#39;s log message
# x, exec &amp;lt;command&amp;gt; = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with &amp;#39;git rebase --continue&amp;#39;)
# d, drop &amp;lt;commit&amp;gt; = remove commit
# l, label &amp;lt;label&amp;gt; = label current HEAD with a name
# t, reset &amp;lt;label&amp;gt; = reset HEAD to a label
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;確認すると意図した結果になっていますね&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
9f6ecb5 commit 5
bbf2396 commit 4
4d7d435 commit 3
f5312fb commit 2
13ba7d2 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;このあとは&#34;&gt;このあとは・・・？&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;push&lt;/code&gt;してリモートリポジトリを随時更新してください。コミットの履歴を変えたので、&lt;code&gt;git push -f&lt;/code&gt;でないとpushできないので、お気をつけて。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>commitをまとめる</title>
        <link>https://tadakun8.github.io/post/git-put-together-commits/</link>
        <pubDate>Sat, 12 Jun 2021 20:58:32 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/git-put-together-commits/</guid>
        <description>&lt;img src="https://tadakun8.github.io/post/git-put-together-commits/git.png" alt="Featured image of post commitをまとめる" /&gt;&lt;h3 id=&#34;はじめに&#34;&gt;はじめに&lt;/h3&gt;
&lt;p&gt;コミットのまとめ方を毎回調べているのでメモ&lt;/p&gt;
&lt;h3 id=&#34;直前のコミットをまとめる場合&#34;&gt;直前のコミットをまとめる場合&lt;/h3&gt;
&lt;p&gt;現在のコミットが以下だと仮定します&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
7a0470f commit 5
ce15d24 commit 4
346c3f2 commit 3
894afa7 commit 2
31bea46 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;--oneline : 各コミットを1行で表示する&lt;/li&gt;
&lt;li&gt;--no-decorate : 余計な装飾を消す &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以下の状態になるようにコミットをまとめてみましょう&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
d8feda4 commit 5、4、3をまとめました
894afa7 commit 2
31bea46 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;手順&#34;&gt;手順&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ git rebase -i HEAD~3 &lt;span class=&#34;c1&#34;&gt;# 直前の3つコミットをrebase&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;何も設定していなければvimが起動し、以下が表示されます&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git rebase -i HEAD~3         [master]
hint: Waiting for your editor to close the file... 
pick 346c3f2 commit 3
pick ce15d24 commit 4
pick 7a0470f commit 5

# Rebase 894afa7..7a0470f onto 894afa7 (3 commands)
#
# Commands:
# p, pick &amp;lt;commit&amp;gt; = use commit
# r, reword &amp;lt;commit&amp;gt; = use commit, but edit the commit message
# e, edit &amp;lt;commit&amp;gt; = use commit, but stop for amending
# s, squash &amp;lt;commit&amp;gt; = use commit, but meld into previous commit
# f, fixup &amp;lt;commit&amp;gt; = like &amp;quot;squash&amp;quot;, but discard this commit&#39;s log message
# x, exec &amp;lt;command&amp;gt; = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with &#39;git rebase --continue&#39;)
# d, drop &amp;lt;commit&amp;gt; = remove commit
# l, label &amp;lt;label&amp;gt; = label current HEAD with a name
# t, reset &amp;lt;label&amp;gt; = reset HEAD to a label
# m, merge [-C &amp;lt;commit&amp;gt; | -c &amp;lt;commit&amp;gt;] &amp;lt;label&amp;gt; [# &amp;lt;oneline&amp;gt;]
# .       create a merge commit using the original merge commit&#39;s
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c &amp;lt;commit&amp;gt; to reword the commit message.
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;次に、まとめたいコミットを pick から &lt;strong&gt;s(またはsquash)&lt;/strong&gt; に変更します。イメージ的にはcommit 4とcommit 5をcommit 3にまとめるようなイメージです&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;pick 346c3f2 commit 3
&lt;span class=&#34;gd&#34;&gt;- pick ce15d24 commit 4
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;- pick 7a0470f commit 5
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;&lt;/span&gt;
pick 346c3f2 commit 3
&lt;span class=&#34;gi&#34;&gt;+ s ce15d24 commit 4
&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;+ s 7a0470f commit 5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;保存すると、まとめたコミットのコミットメッセージを入力する画面が表示されます&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash:表示される画面&#34; data-lang=&#34;bash:表示される画面&#34;&gt;# This is a combination of 3 commits.
# This is the 1st commit message:

commit 3

# This is the commit message #2:

commit 4

# This is the commit message #3:

commit 5
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;#&lt;/code&gt;が&lt;strong&gt;ついていないもの&lt;/strong&gt;がコミットメッセージとして適用されます。なので今回はこれらを消して以下のメッセージに修正します&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;commit 5、4、3をまとめました
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;これで保存すると想定通りコミットがまとまりました&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate                                                                         
d8feda4 commit 5、4、3をまとめました
894afa7 commit 2
31bea46 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;離れたコミットをまとめる場合&#34;&gt;離れたコミットをまとめる場合&lt;/h3&gt;
&lt;p&gt;現在のコミットが以下だと仮定します&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
7a0470f commit 5
ce15d24 commit 4
346c3f2 commit 3
894afa7 commit 2
31bea46 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;以下の状態になるようにコミットをまとめてみましょう&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate
7a0470f commit 5
ce15d24 commit 4
bc9ff20 commit 2, 3をまとめました
894afa7 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;手順-1&#34;&gt;手順&lt;/h4&gt;
&lt;p&gt;手順としては先ほどと同様です。イメージとしてはcommit3をコミット2にまとめるようなイメージを持ってください。なので、commit3のpickをs(squash)に変更してあげましょう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ git rebase -i 894afa7 &lt;span class=&#34;c1&#34;&gt;# 引数にコミットIDを指定するとその次のコミット(ここではcommit2)までがrebaseの範囲になる&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;表示されるvim画面は以下になります&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pick 894afa7 commit 2
pick 346c3f2 commit 3
pick ce15d24 commit 4
pick 7a0470f commit 5

# Rebase 31bea46..7a0470f onto 7a0470f (4 commands)
#
# Commands:
# p, pick &amp;lt;commit&amp;gt; = use commit
# r, reword &amp;lt;commit&amp;gt; = use commit, but edit the commit message
# e, edit &amp;lt;commit&amp;gt; = use commit, but stop for amending
# s, squash &amp;lt;commit&amp;gt; = use commit, but meld into previous commit
# f, fixup &amp;lt;commit&amp;gt; = like &amp;quot;squash&amp;quot;, but discard this commit&#39;s log message
# x, exec &amp;lt;command&amp;gt; = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with &#39;git rebase --continue&#39;)
# d, drop &amp;lt;commit&amp;gt; = remove commit
# l, label &amp;lt;label&amp;gt; = label current HEAD with a name
# t, reset &amp;lt;label&amp;gt; = reset HEAD to a label
# m, merge [-C &amp;lt;commit&amp;gt; | -c &amp;lt;commit&amp;gt;] &amp;lt;label&amp;gt; [# &amp;lt;oneline&amp;gt;]
# .       create a merge commit using the original merge commit&#39;s
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c &amp;lt;commit&amp;gt; to reword the commit message.
#

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;いつものようにまとめたいコミットの pick を &lt;strong&gt;s(またはsquash)&lt;/strong&gt; に変更しましょう&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;pick 894afa7 commit 2
&lt;span class=&#34;gd&#34;&gt;- pick 346c3f2 commit 3
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;&lt;/span&gt;pick ce15d24 commit 4
pick 7a0470f commit 5

pick 894afa7 commit 2
&lt;span class=&#34;gi&#34;&gt;+ s 346c3f2 commit 3
&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;&lt;/span&gt;pick ce15d24 commit 4
pick 7a0470f commit 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;保存して、コミットメッセージを&lt;code&gt;commit 2, 3をまとめました&lt;/code&gt;と書けば想定した結果になるはずです&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[~/workspace/sample] 
❯❯❯ git log --oneline --no-decorate                                                                        
f5cade0 commit 5
04ac645 commit 4
bc9ff20 commit 2, 3をまとめました
31bea46 commit 1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;このあとは&#34;&gt;このあとは・・・？&lt;/h3&gt;
&lt;p&gt;変更が終わったら、リモートリポジトリにpushしましょう。&lt;/p&gt;
&lt;p&gt;ただ、rebaseした後にリモートリポジトリにpushしようとするとエラーがでます。ローカルとリモートの履歴が異なるので当たり前ですね。その場合は&lt;code&gt;git push -f origin ブランチ名&lt;/code&gt;でpushできます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ただし、&lt;code&gt;git push -f&lt;/code&gt; はリモートリポジトリに現在のブランチの状態を強制的にpushします。&lt;strong&gt;リモートリポジトリの状態を強制的に変更するコマンド&lt;/strong&gt;なので、必ず今の変更があっているかを確かめてから使うようにしてください。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;参考&#34;&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://qiita.com/takke/items/3400b55becfd72769214&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;rebase -i でコミットをまとめる&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://qiita.com/tatetate55/items/7a822a3246df79d693b8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;git rebase -iでgitのコミットをまとめる&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;このオプションをつけないと最新のcommitが&lt;code&gt;7a0470f (HEAD -&amp;gt; master) commit 5&lt;/code&gt;と表示されます。ここでは表示をわかりやすくするために、このオプションをつけました&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Swaggerでモックサーバを立てる</title>
        <link>https://tadakun8.github.io/post/creating-a-mock-server-with-swagger/</link>
        <pubDate>Thu, 10 Jun 2021 21:15:14 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/creating-a-mock-server-with-swagger/</guid>
        <description>&lt;img src="https://tadakun8.github.io/post/creating-a-mock-server-with-swagger/swagger.jpg" alt="Featured image of post Swaggerでモックサーバを立てる" /&gt;&lt;h3 id=&#34;はじめに&#34;&gt;はじめに&lt;/h3&gt;
&lt;p&gt;ここでは、Swaggerで定義したAPIからモックサーバを立てる方法を書いていきます。SwaggerのDockerイメージを利用してモックサーバを構築する方法もありますが、ここではSwagger Editorを使用する方法について書きます。&lt;/p&gt;
&lt;h3 id=&#34;手順&#34;&gt;手順&lt;/h3&gt;
&lt;h4 id=&#34;モックサーバファイルをダウンロード&#34;&gt;モックサーバファイルをダウンロード&lt;/h4&gt;
&lt;p&gt;モックサーバをローカルで立ち上げるために必要なファイルをダウンロードします&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;まずは&lt;a class=&#34;link&#34; href=&#34;https://editor.swagger.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;swagger editor&lt;/a&gt;にアクセスしてください&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;上部の&lt;strong&gt;Generate Server&lt;/strong&gt;をクリックしてどの言語でモックサーバを立てるかを選んでください&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;この記事では&lt;code&gt;nodejs-server&lt;/code&gt;を選択した想定で進みます&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;選択するとzipファイルがダウンロードされるので、任意のフォルダで展開してください&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;swaggeryamlを修正&#34;&gt;swagger.yamlを修正&lt;/h4&gt;
&lt;p&gt;ローカルでAPIを叩けるようにするために、&lt;code&gt;api/swagger.yaml&lt;/code&gt;を変更する必要があります。
具体的にはappフォルダにある&lt;code&gt;swagger.yaml&lt;/code&gt;の&lt;code&gt;host&lt;/code&gt;と&lt;code&gt;schemas&lt;/code&gt;の値を変更します。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span class=&#34;gd&#34;&gt;- host: &amp;#34;petstore.swagger.io&amp;#34;
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;+ host: &amp;#34;localhost:8080&amp;#34;
&lt;/span&gt;&lt;span class=&#34;gi&#34;&gt;&lt;/span&gt;
schemes:
&lt;span class=&#34;gd&#34;&gt;- &amp;#34;https&amp;#34; ← これを消す
&lt;/span&gt;&lt;span class=&#34;gd&#34;&gt;- &amp;#34;http&amp;#34;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;必要なモジュールのインストール&#34;&gt;必要なモジュールのインストール&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ npm install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;展開したディレクトリの&lt;code&gt;package.json&lt;/code&gt;があるディレクトリ内でこのコマンドを叩いてください&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;モックサーバを立ち上げる&#34;&gt;モックサーバを立ち上げる&lt;/h4&gt;
&lt;p&gt;同じディレクトリで以下のコマンドを叩いてサーバを立ち上げます&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ npm run start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;http://localhost:8080/docs/&lt;/code&gt;にアクセスすると、Swagger UIが立ち上がるはずです。Swagger UIで試してみても良いですし、ブラウザの検索窓から&lt;code&gt;http://localhost:8080/v2/pet/3&lt;/code&gt;と叩けばjsonのレスポンスが返ってくることを確認できるはずです&lt;/p&gt;
&lt;h3 id=&#34;このあとは&#34;&gt;このあとは・・・？&lt;/h3&gt;
&lt;p&gt;この手順で使用したAPIはSwagger Editor用意したサンプルのAPIになります。&lt;code&gt;swagger.yaml&lt;/code&gt;を修正し、プロジェクトに必要なAPIを定義していけばよいでしょう。&lt;/p&gt;
&lt;p&gt;また、フロントエンドの確認をしたい場合はリクエスト先を&lt;code&gt;http://localhost:8080/v2/pet/3&lt;/code&gt;のようにしてあげれば、バックエンドが実装されていなくても、フロントエンドの確認をすることができますね！&lt;/p&gt;
&lt;p&gt;Swagger本来の用途であるAPI仕様書としても使用できるので、このフォルダをgit管理してプロジェクトで共有するということをおすすめします。&lt;/p&gt;
&lt;h3 id=&#34;参考&#34;&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://mather.hatenablog.jp/entry/swagger-mock&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;外部連携APIのモックサーバをSwaggerを利用して作る&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>jsconfig.jsonとは？</title>
        <link>https://tadakun8.github.io/post/what-is-jsconfig-json/</link>
        <pubDate>Thu, 10 Jun 2021 19:59:50 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/what-is-jsconfig-json/</guid>
        <description>&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;jsconfig.jsonとはvscodeでjavascriptを書くときに便利にコーディングできるようにする設定ファイルのことです&lt;/p&gt;
&lt;h3 id=&#34;example&#34;&gt;example&lt;/h3&gt;
&lt;p&gt;以下は、&lt;code&gt;create-nuxt-app&lt;/code&gt;コマンドで作成されたjsconfig.jsonの例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript:jsconfig.json&#34; data-lang=&#34;javascript:jsconfig.json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;compilerOptions&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;baseUrl&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;~/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;@/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;~~/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;@@/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;exclude&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;node_modules&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;.nuxt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;dist&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;remarks&#34;&gt;Remarks&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;typescriptの場合はtsconfig.jsonになる&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;reference&#34;&gt;Reference&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://code.visualstudio.com/docs/languages/jsconfig&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;jsconfig.json(公式ページ)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://marsquai.com/a70497b9-805e-40a9-855d-1826345ca65f/1dc3824a-2ab9-471f-ad58-6226a37245ce/b5ce5f32-2afa-41f5-9fae-a3979f5c13df/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;【TypeScript】TSConfigの基礎&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://qiita.com/Nekonecode/items/09b26deec21a5f83adb1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;tsconfig.jsonのrootDirとbaseUrlに関するメモ [TypeScript]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://qiita.com/ryokkkke/items/390647a7c26933940470#rootdir&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;tsconfig.jsonの全オプションを理解する（随時追加中）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ブログはじめました</title>
        <link>https://tadakun8.github.io/post/start-blog/</link>
        <pubDate>Tue, 08 Jun 2021 23:41:15 +0900</pubDate>
        
        <guid>https://tadakun8.github.io/post/start-blog/</guid>
        <description>&lt;p&gt;はじまりはじまり&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
